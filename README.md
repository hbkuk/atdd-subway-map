# 지하철 노선도 미션
[ATDD 강의](https://edu.nextstep.camp/c/R89PYi5H) 실습을 위한 지하철 노선도 애플리케이션

## 1주차 미션
- Review 정리
  - 가변인자를 받는 `containsAnyOf` 메서드 활용
  - 매직넘버를 사용하는 것을 지양할 것
  - 메서드명에 `And`와 같이 2가지 이상의 일을 하고 있음을 표현하는 것을 지양할 것

## 2주차 미션
- 진행 순서
  1. 인수 테스트 작성
  2. 작성한 테스트가 `Pass` 되도록 기능 구현

- 인수 테스트 작성
  - [ ] 지하철 노선 생성
  - [ ] 지하철 노선 목록 조회
  - [ ] 지하철 노선 조회
  - [ ] 지하철 노선 수정
  - [ ] 지하철 노선 삭제

- 인수 테스트 성공
    - [ ] 지하철 노선 생성
    - [ ] 지하철 노선 목록 조회
    - [ ] 지하철 노선 조회
    - [ ] 지하철 노선 수정
    - [ ] 지하철 노선 삭제

- 고민
  - 테스트 검증 범위를 어디까지 둘 것인가?
     - 일부, 중요하다고 생각하는 필드만? 
        - 예) 지하철 노선명 + 색상?
     - 모든 필드?
       - 그렇다면, JsonPath를 반환받아서 `getList` 메서드를 통해 검증하는 것이 깔끔한 방법일까?
  - 미션 진행 순서
     1. 모든 인수 테스트 작성(리팩토링 X)
        - 요청: 로그를 통해 request method, URI, body 정도?
        - 응답: 로그를 통해 응답 상태코드 정도?(실패하는지?)
     3. 기능 구현
        - Repository -> Service -> Controller
     4. 기능 리팩토링
     5. 인수 테스트 리팩토링 
     6. 인수 테스트 최종 검토
  - throw Exception
    - ID에 해당하는 노선이 없을 경우
      - 컨트롤러에서 throw?
      - 서비스에서 throw?
  - `updateStationLine` 메서드는 @Transaction 어노테이션이 없다면, 조회시 수정 전 데이터가 조회
    - 테스트 메서드에서는 EntityManager가 하나만 사용되는 것인가?
      - 아님. entity.clear 혹은 entity.flush를 호출해도 실패